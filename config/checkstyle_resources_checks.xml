<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
          "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
          "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name="Checker">
  <property name="charset" value="UTF-8"/>
  <property name="haltOnException" value="false"/>

  <property name="cacheFile" value="target/cache_resources"/>

  <!-- Suppressions for resources -->
  <module name="SuppressionFilter">
    <property name="file"
             value="${project.basedir}/config/checkstyle_resources_suppressions.xml"/>
  </module>
  <module name="FileTabCharacter"/>
  <module name="RegexpSingleline">
    <property name="id" value="noTrailingWhitespace"/>
    <property name="format" value="\s+$"/>
    <property name="message" value="Trailing whitespace is not allowed"/>
  </module>
  <module name="RegexpOnFilename">
    <property name="id" value="resourceFileName"/>
    <property name="folderPattern"
             value="[\\/]src[\\/](it|test)[\\/]resources(-noncompilable?)[\\/]"/>
    <property name="fileNamePattern"
             value="^(package-info.java)|(Input\w+\.java)|(.*\.properties)|(.*Xpath\w+\.java)$"/>
    <property name="match" value="false"/>
    <message key="regexp.filepath.mismatch"
           value="All files in the ''src/(it|test)/resources'' folder
                 should be named
                 ''Input*.java'' , ''package-info.java'' ,
                 ''*.properties'' or ''SuppressionXpath*.java''."/>
  </module>

  <!-- Miscellaneous -->
  <module name="NewlineAtEndOfFile" />
  <module name="RegexpSingleline">
    <property name="id" value="lineLength"/>
    <!-- catch lines above 100 symbols -->
    <property name="format"
              value="^(?!(.*href=|.*http(s)?:|import |(.* )?package |.* files=|.*\.dtd)).{101,}$"/>
    <property name="message" value="Line should not be longer than 100 symbols"/>
  </module>

  <!-- check the number of testCases -->
  <module name="RegexpSingleline">
    <property name="id" value="numberOfTestCasesInXpath"/>
    <property name="format" value="@Test"/>
    <property name="minimum" value="2"/>
    <property name="maximum" value="9999"/>
    <property name="fileExtensions" value="java"/>
    <property name="message"
              value="Two or more test cases are required for unit testing in Xpath "/>
  </module>

  <!-- To restrict empty files -->
  <module name="RegexpMultiline">
    <property name="format" value="^\s*$" />
    <property name="matchAcrossLines" value="true" />
    <property name="message" value="Empty file is not allowed" />
  </module>

  <module name="TreeWalker">
    <module name="PackageDeclarationCheck"/>
    <module name="OuterTypeFilenameCheck"/>
  </module>

</module>
